(()=>{"use strict";var e={263:(e,t,n)=>{n.r(t)},611:(e,t,n)=>{n.r(t)},763:(e,t,n)=>{n.r(t)},661:(e,t,n)=>{n.r(t)},945:(e,t,n)=>{n.r(t)},241:(e,t,n)=>{n.r(t)},226:(e,t,n)=>{n.r(t)},462:(e,t,n)=>{n.r(t)},762:(e,t,n)=>{n.r(t)},768:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDivElement=void 0,t.createDivElement=function(e){var t,n=document.createElement("div");return(t=n.classList).add.apply(t,e),n}},655:(e,t)=>{function n(){return Math.round(255*Math.random()).toString(16)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomColor=void 0,t.getRandomColor=function(){return"#"+n()+n()+n()}},518:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSwitchBtns=void 0,t.createSwitchBtns=function(e){var t=document.createElement("button");return t.classList.add("confirm-btn","switch-page__btn"),t.innerHTML=e,t}},565:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.APISettings=void 0,t.APISettings={baseURL:"http://127.0.0.1:3000",path:{garage:"/garage",winners:"/winners",engine:"/engine"},methods:{post:"POST",delete:"DELETE",put:"PUT"},headers:{contentType:"application/json"},standartCar:{name:"Unknown",color:"#e5e5e5"},status:{start:"started",stop:"stopped",drive:"drive"},serverErrorCode:500}},399:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.API=void 0;var a=n(565),o=function(){function e(){}return e.generateQueryString=function(e){return void 0===e&&(e=[]),e.length?"?"+e.map((function(e){return e.key+"="+e.value})).join("&"):""},e.getCars=function(t){var n=this;return void 0===t&&(t=[]),new Promise((function(o){return r(n,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.garage+e.generateQueryString(t))];case 1:return[4,(n=i.sent()).json()];case 2:return r=i.sent(),s=Number(n.headers.get("X-Total-Count")),o({cars:r,totalCount:s}),[2]}}))}))}))},e.deleteCar=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.garage+"/"+t,{method:a.APISettings.methods.delete})];case 1:return n=r.sent(),e.validation(n),o(),[2]}}))}))}))},e.updateCar=function(t,n){var o=this;return new Promise((function(s){return r(o,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.garage+"/"+t,{method:a.APISettings.methods.put,headers:{"Content-Type":a.APISettings.headers.contentType},body:JSON.stringify(n)})];case 1:return r=i.sent(),e.validation(r),s(),[2]}}))}))}))},e.validation=function(e){e.ok||console.log("Error "+e.status+"!")},e.createCar=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return t.name||(t.name=a.APISettings.standartCar.name),[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.garage,{method:a.APISettings.methods.post,headers:{"Content-Type":a.APISettings.headers.contentType},body:JSON.stringify(t)})];case 1:return n=r.sent(),e.validation(n),o(),[2]}}))}))}))},e.getCar=function(e){var t=this;return new Promise((function(n){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.garage+"/"+e)];case 1:return[4,r.sent().json()];case 2:return t=r.sent(),n(t),[2]}}))}))}))},e.toggleCarsEngine=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.engine+e.generateQueryString(t))];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),o(n),[2]}}))}))}))},e.switchToDriveMode=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.engine+e.generateQueryString(t))];case 1:if((n=r.sent()).ok)o(!0);else switch(n.status){case a.APISettings.serverErrorCode:o(!1);break;default:console.log("Error "+n.status+"!"),o(!0)}return[2]}}))}))}))},e.getWinner=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.winners+"/"+t)];case 1:return n=i.sent(),e.validation(n),[4,n.json()];case 2:return r=i.sent(),o(r),[2]}}))}))}))},e.createWinner=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.winners,{method:a.APISettings.methods.post,headers:{"Content-Type":a.APISettings.headers.contentType},body:JSON.stringify(t)})];case 1:return n=r.sent(),e.validation(n),o(),[2]}}))}))}))},e.updateWinner=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:return n=t.wins,r=t.time,[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.winners+"/"+t.id,{method:a.APISettings.methods.put,headers:{"Content-Type":a.APISettings.headers.contentType},body:JSON.stringify({wins:n,time:r})})];case 1:return s=i.sent(),e.validation(s),o(),[2]}}))}))}))},e.deleteWinner=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.winners+"/"+t,{method:a.APISettings.methods.delete})];case 1:return n=r.sent(),e.validation(n),o(),[2]}}))}))}))},e.getAllWinner=function(t){var n=this;return new Promise((function(o){return r(n,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+a.APISettings.baseURL+a.APISettings.path.winners+e.generateQueryString(t))];case 1:return n=i.sent(),e.validation(n),[4,n.json()];case 2:return r=i.sent(),s=Number(n.headers.get("X-Total-Count")),o({winners:r,totalCount:s}),[2]}}))}))}))},e}();t.API=o},1:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var a=n(198);n(263);var o=n(524),s=n(573),c=function(e){function t(t){var n=e.call(this,["header"],"header")||this;return n.rootElement=t,n.rootElement.appendChild(n.element),n.createNavBtns(),n.startGarage(),n}return i(t,e),t.prototype.createNavBtns=function(){var e=this;this.garageButton=document.createElement("button"),this.garageButton.classList.add("confirm-btn","header__btn","disable"),this.garageButton.innerHTML="to Garage",this.contantsField.element.appendChild(this.garageButton),this.garageButton.addEventListener("click",(function(){e.toggleBtns(),e.startGarage()})),this.scoreButton=document.createElement("button"),this.scoreButton.classList.add("confirm-btn","header__btn"),this.scoreButton.innerHTML="to Score",this.contantsField.element.appendChild(this.scoreButton),this.scoreButton.addEventListener("click",(function(){e.toggleBtns(),e.startWinners()}))},t.prototype.startGarage=function(){this.garage||(this.garage=new o.Garage,this.rootElement.appendChild(this.garage.element),this.garage.element.classList.add("show-class")),this.toogleElement()},t.prototype.startWinners=function(){this.winners||(this.winners=new s.Winners,this.rootElement.appendChild(this.winners.element),this.winners.element.classList.add("show-class")),this.toogleElement()},t.prototype.toggleBtns=function(){var e,t;null===(e=this.garageButton)||void 0===e||e.classList.toggle("disable"),null===(t=this.scoreButton)||void 0===t||t.classList.toggle("disable")},t.prototype.toogleElement=function(){var e,t;null===(e=this.garage)||void 0===e||e.element.classList.toggle("show-class"),null===(t=this.winners)||void 0===t||t.element.classList.toggle("show-class")},t}(a.Field);t.App=c},944:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Car=void 0;var r=n(561),i=function(){function e(e){this.name=e.name,this.color=e.color,this.id=e.id,this.initCarIcon()}return e.prototype.initCarIcon=function(){var e=this,t=this.name.split(" "),n=t[0],i=t.slice(1).join(" ");r.setting.carNames.forEach((function(t){t.name===n&&t.model.forEach((function(t){if(t.modelName===i)switch(t.type){case"coupe":e.svg=r.setting.carTypes.coupe;break;case"pickup":e.svg=r.setting.carTypes.pickup;break;case"hypercar":e.svg=r.setting.carTypes.hypercar;break;case"sedan":e.svg=r.setting.carTypes.sedan;break;case"sportcar":e.svg=r.setting.carTypes.sportcar;break;default:console.log("Something wrong!")}}))})),this.svg||(this.svg=r.setting.carTypes.sedan)},e}();t.Car=i},524:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Garage=void 0,n(611);var s=n(944),c=n(198),l=n(274),u=n(492),p=n(399),d=n(561),g=n(655),h=n(177),m=n(518),v=function(e){function t(){var n=e.call(this,["garage"])||this;n.tracks=[];var r=document.createElement("div");return r.classList.add("inputs-container"),n.contantsField.element.appendChild(r),n.createInput=new l.InputField("create"),r.appendChild(n.createInput.element),n.createInput.confirmButton.addEventListener("click",(function(){n.createCar()})),n.updateInput=new l.InputField("update","disable"),r.appendChild(n.updateInput.element),n.carSvg=t.addCarProto(r),r.querySelectorAll('input[type="color"]').forEach((function(e){e.addEventListener("input",(function(){n.carSvg.style.fill=e.value}))})),n.createButtonsField(r),n.createGarageCounterAndPageCounter(),n.carContainer=document.createElement("div"),n.contantsField.element.appendChild(n.carContainer),n.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}]),n.createPageSwitchBtns(),n}return i(t,e),t.addCarProto=function(e){var t=document.createElement("div");t.classList.add("car-proto"),t.innerHTML=d.setting.carTypes.sedan,e.appendChild(t);var n=t.querySelector("svg");if(n)return n;throw Error("Svg does not exist!")},t.prototype.createGarageCounterAndPageCounter=function(){var e=document.createElement("h2");e.classList.add("garage-counter"),e.innerHTML="\n      Garage (<span></span>)\n    ",this.contantsField.element.appendChild(e),this.garageCounter=e.querySelector("span");var t=document.createElement("h3");t.classList.add("page-counter"),t.innerHTML="\n      Page #<span></span>\n    ",this.contantsField.element.appendChild(t),this.pageCounter=t.querySelector("span")},t.prototype.createButtonsField=function(e){var t=this,n=document.createElement("div");n.classList.add("btns-container"),e.appendChild(n),this.raceBtn=document.createElement("button"),this.raceBtn.innerHTML="race",this.raceBtn.classList.add("control-btn","race-btn"),this.raceBtn.addEventListener("click",(function(){t.race()})),n.appendChild(this.raceBtn),this.resetBtn=document.createElement("button"),this.resetBtn.innerHTML="reset",this.resetBtn.classList.add("control-btn","reset-btn",d.setting.offClasses.garageOffClass),n.appendChild(this.resetBtn),this.resetBtn.addEventListener("click",(function(){t.resetRace()})),this.generateBtn=document.createElement("button"),this.generateBtn.innerHTML="generate cars",this.generateBtn.classList.add("control-btn","generate-btn"),this.generateBtn.addEventListener("click",(function(){t.addGenerateListner()})),n.appendChild(this.generateBtn)},t.prototype.createPageSwitchBtns=function(){var e=this,t=document.createElement("div");t.classList.add("switch-page__container"),this.contantsField.element.appendChild(t),this.prevPage=m.createSwitchBtns("prev"),t.appendChild(this.prevPage),this.prevPage.addEventListener("click",(function(){d.setting.activePageSetting.page--,e.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}])})),this.nextPage=m.createSwitchBtns("next"),t.appendChild(this.nextPage),this.nextPage.addEventListener("click",(function(){d.setting.activePageSetting.page++,e.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}])}))},t.prototype.pageButtonsValidation=function(){var e,t,n,r,i;d.setting.activePageSetting.page<=1?null===(e=this.prevPage)||void 0===e||e.classList.add("disable"):null===(t=this.prevPage)||void 0===t||t.classList.remove("disable");var a=null===(n=this.garageCounter)||void 0===n?void 0:n.innerHTML;d.setting.activePageSetting.page>=Math.ceil(Number(a)/d.setting.activePageSetting.limit)?null===(r=this.nextPage)||void 0===r||r.classList.add("disable"):null===(i=this.nextPage)||void 0===i||i.classList.remove("disable")},t.prototype.getCars=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){switch(r.label){case 0:return this.carContainer.innerHTML="",this.tracks.length=0,[4,p.API.getCars(e)];case 1:return t=r.sent(),this.garageCounter&&(this.garageCounter.innerHTML=String(t.totalCount)),this.pageButtonsValidation(),e.forEach((function(e){"_page"===e.key&&n.pageCounter&&(n.pageCounter.innerHTML=e.value)})),t.cars.forEach((function(e){var t=new u.Track(new s.Car(e));n.addTrackListner(t),n.tracks.push(t),n.carContainer.appendChild(t.element)})),this.raceBtn&&this.raceBtn.classList.contains(d.setting.offClasses.garageOffClass)&&this.toggleRaceBtn(),[2]}}))}))},t.prototype.addTrackListner=function(e){var t,n,r=this;null===(t=e.removeButton)||void 0===t||t.addEventListener("click",(function(){r.deleteCar(e)})),null===(n=e.selectButton)||void 0===n||n.addEventListener("click",(function(){r.selectCar(e)}),{once:!0})},t.prototype.deleteCar=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,e.deleteCar()];case 1:return t.sent(),this.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}]),[2]}}))}))},t.prototype.selectCar=function(e){var t=this;this.activeCar=e.getCar(),this.updateInput.element.classList.remove("disable"),this.updateInput.color.value=this.activeCar.color,this.updateInput.name.value=this.activeCar.name,this.updateInput.confirmButton.addEventListener("click",(function(){return a(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.confirmUpdateCar()];case 1:return e.sent(),this.resetUpdateField(),this.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}]),[2]}}))}))}),{once:!0})},t.prototype.confirmUpdateCar=function(){if(this.activeCar)return p.API.updateCar(this.activeCar.id,{name:this.updateInput.name.value,color:this.updateInput.color.value});throw Error("Active car does not selected!")},t.prototype.resetUpdateField=function(){this.updateInput.element.classList.add("disable"),this.updateInput.name.value="",this.updateInput.color.value="",this.activeCar=void 0},t.prototype.createCar=function(){return a(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e={name:this.createInput.name.value,color:this.createInput.color.value},[4,p.API.createCar(e)];case 1:return t.sent(),this.resetCreateField(),this.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}]),[2]}}))}))},t.prototype.resetCreateField=function(){this.createInput.name.value="",this.createInput.color.value=""},t.prototype.addGenerateListner=function(){return a(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=[],[4,new Promise((function(n){for(var r=0;r<d.setting.numberOfCreatedCars;r++)e.push(t.getRandomCar());n()}))];case 1:return n.sent(),[4,t.generateCars(e)];case 2:return n.sent(),this.getCars([{key:"_page",value:String(d.setting.activePageSetting.page)},{key:"_limit",value:String(d.setting.activePageSetting.limit)}]),[2]}}))}))},t.generateCars=function(e){return a(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,new Promise((function(n){return a(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return p.API.createCar(e)})),[4,Promise.all(t)];case 1:return r.sent(),n(),[2]}}))}))}))]}))}))},t.getRandomCar=function(){var e=Math.round(Math.random()*(d.setting.carNames.length-1)),t=d.setting.carNames[e].name,n=Math.round(Math.random()*(d.setting.carNames[e].model.length-1));return{name:t+" "+d.setting.carNames[e].model[n].modelName,color:g.getRandomColor()}},t.prototype.race=function(){return a(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(i){switch(i.label){case 0:return this.toggleRaceBtn(),e=[],this.tracks.forEach((function(t){e.push(t.carStop())})),[4,Promise.all(e)];case 1:return i.sent(),n=[],this.tracks.forEach((function(e){n.push(e.carRaceStart())})),[4,Promise.race(n)];case 2:return r=i.sent(),t.updateWinnerData(r),this.createWinPopup(r),[2]}}))}))},t.prototype.resetRace=function(){var e,t=this;null===(e=this.resetBtn)||void 0===e||e.classList.add(d.setting.offClasses.garageOffClass);var n=[];this.tracks.forEach((function(e){n.push(e.carStop())})),Promise.all(n).then((function(){var e;null===(e=t.raceBtn)||void 0===e||e.classList.remove(d.setting.offClasses.garageOffClass)}))},t.prototype.toggleRaceBtn=function(){var e,t;null===(e=this.raceBtn)||void 0===e||e.classList.toggle(d.setting.offClasses.garageOffClass),null===(t=this.resetBtn)||void 0===t||t.classList.toggle(d.setting.offClasses.garageOffClass)},t.prototype.createWinPopup=function(e){var n=this,r=new h.Popup,i=t.getClearTime(e.getCarElement().style.animationDuration);r.popUp.element.innerHTML="\n    "+e.getCar().name+" won in "+i+" seconds\n    ",this.element.appendChild(r.element),r.showPopup(),r.element.addEventListener("click",(function(){return a(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,r.closePopup()];case 1:return e.sent(),r.element.remove(),[2]}}))}))}))},t.getClearTime=function(e){var t=parseFloat(e);return Number(t.toFixed(d.setting.fractionDigits))},t.updateWinnerData=function(e){return a(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(a){switch(a.label){case 0:return n=e.getCar(),r=t.getClearTime(e.getCarElement().style.animationDuration),[4,p.API.getWinner(n.id)];case 1:return(i=a.sent()).id?i.time>r?p.API.updateWinner({id:n.id,wins:i.wins+1,time:r}):p.API.updateWinner({id:n.id,wins:i.wins+1,time:i.time}):p.API.createWinner({id:n.id,wins:1,time:r}),[2]}}))}))},t}(c.Field);t.Garage=v},790:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponents=void 0;t.BaseComponents=function(e,t){var n;void 0===e&&(e="div"),void 0===t&&(t=[]),this.element=document.createElement(e),(n=this.element.classList).add.apply(n,t)}},198:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0,n(763);var a=n(790),o=function(e){function t(t,n){var r=e.call(this,"section",t)||this;return r.contantsField=n?new a.BaseComponents("div",["container-field",n]):new a.BaseComponents("div",["container-field"]),r.element.appendChild(r.contantsField.element),r}return i(t,e),t}(a.BaseComponents);t.Field=o},274:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputField=void 0;var a=n(790);n(661);var o=function(e){function t(t,n){var r=this;return(r=n?e.call(this,"div",["input-field",n])||this:e.call(this,"div",["input-field"])||this).name=r.initInput(["car-name"]),r.name.type="text",r.color=r.initInput(["car-color"]),r.color.type="color",r.confirmButton=r.initInput(["confirm-btn"],t),r}return i(t,e),t.prototype.initInput=function(e,t){var n,r;return t?(r=document.createElement("button")).innerHTML=t:r=document.createElement("input"),(n=r.classList).add.apply(n,e),this.element.appendChild(r),r},t}(a.BaseComponents);t.InputField=o},177:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var a=n(790),o=n(561);n(945);var s=function(e){function t(){var t=e.call(this,"div",["popup",o.setting.offClasses.popupCloseClass])||this,n=new a.BaseComponents("div",["popup__inner"]);return t.popUp=new a.BaseComponents("div",["popup__container"]),n.element.appendChild(t.popUp.element),t.element.appendChild(n.element),t}return i(t,e),t.prototype.showPopup=function(){this.element.classList.remove(o.setting.offClasses.popupCloseClass)},t.prototype.closePopup=function(){var e=this;return new Promise((function(t){e.element.classList.add(o.setting.offClasses.popupCloseClass),e.element.addEventListener("transitionend",(function(){return t()}))}))},t}(a.BaseComponents);t.Popup=s},767:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Score=void 0,n(241);var a=n(790),o=n(768),s=function(e){function t(t,n,r){var i=e.call(this,"div",["score"])||this;return i.place=t,i.car=n,i.winData=r,i.createScoreTable(),i}return i(t,e),t.prototype.createScoreTable=function(){var e=o.createDivElement(["place-container"]);e.innerHTML=String(this.place),this.element.appendChild(e);var t=o.createDivElement(["car-container"]);this.car.svg&&(t.innerHTML=this.car.svg);var n=t.querySelector("svg");n&&(n.style.fill=this.car.color),this.element.appendChild(t);var r=o.createDivElement(["name-container"]);r.innerHTML=this.car.name,this.element.appendChild(r);var i=o.createDivElement(["wins-container"]);i.innerHTML=String(this.winData.wins),this.element.appendChild(i);var a=o.createDivElement(["best-time-container"]);a.innerHTML=String(this.winData.time),this.element.appendChild(a)},t}(a.BaseComponents);t.Score=s},561:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setting=void 0,t.setting={carTypes:{sedan:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="100px" height="42px" viewBox="0 26 100 42" style="enable-background:new 0 26 100 42;"\n    xml:space="preserve">\n <g>\n   <g>\n     <path d="M17.275,52.156c-4.124,0-7.468,3.343-7.468,7.468c0,0.318,0.026,0.631,0.066,0.938c0.463,3.681,3.596,6.528,7.401,6.528\n       c3.908,0,7.112-3.004,7.437-6.83c0.017-0.209,0.031-0.422,0.031-0.637C24.743,55.499,21.4,52.156,17.275,52.156z M13.537,56.81\n       l1.522,1.523c-0.118,0.203-0.211,0.422-0.271,0.656h-2.146C12.752,58.177,13.063,57.435,13.537,56.81z M12.632,60.282h2.163\n       c0.061,0.23,0.151,0.448,0.271,0.648l-1.526,1.525C13.067,61.835,12.749,61.093,12.632,60.282z M16.629,64.263\n       c-0.809-0.113-1.544-0.43-2.166-0.899l1.518-1.519c0.2,0.117,0.419,0.203,0.648,0.263V64.263z M16.629,57.14\n       c-0.235,0.062-0.455,0.154-0.66,0.275l-1.521-1.521c0.625-0.475,1.367-0.789,2.181-0.902V57.14z M17.922,54.99\n       c0.814,0.113,1.557,0.429,2.181,0.903l-1.52,1.521c-0.204-0.121-0.426-0.213-0.66-0.275L17.922,54.99L17.922,54.99z\n        M17.922,64.261v-2.152c0.23-0.061,0.447-0.146,0.647-0.264l1.519,1.519C19.466,63.833,18.73,64.148,17.922,64.261z\n        M21.014,62.462l-1.531-1.533c0.12-0.201,0.217-0.416,0.278-0.646h2.146C21.793,61.091,21.488,61.839,21.014,62.462z\n        M19.764,58.989c-0.061-0.234-0.153-0.453-0.271-0.656l1.524-1.523c0.471,0.625,0.782,1.367,0.894,2.18H19.764z" style="fill: #4a3069;"/>\n     <path d="M79.284,52.156c-4.124,0-7.468,3.343-7.468,7.468c0,0.318,0.026,0.631,0.066,0.938c0.463,3.681,3.596,6.528,7.4,6.528\n       c3.908,0,7.112-3.004,7.438-6.83c0.017-0.209,0.031-0.422,0.031-0.637C86.753,55.499,83.409,52.156,79.284,52.156z M75.546,56.81\n       l1.521,1.523c-0.118,0.203-0.211,0.422-0.271,0.656H74.65C74.761,58.177,75.072,57.435,75.546,56.81z M74.642,60.282h2.163\n       c0.061,0.23,0.151,0.448,0.271,0.648l-1.525,1.525C75.076,61.835,74.757,61.093,74.642,60.282z M78.638,64.263\n       c-0.809-0.113-1.544-0.43-2.166-0.899l1.518-1.519c0.2,0.117,0.419,0.203,0.648,0.263V64.263z M78.638,57.14\n       c-0.235,0.062-0.455,0.154-0.66,0.275l-1.521-1.521c0.625-0.475,1.366-0.789,2.181-0.902V57.14z M79.932,54.99\n       c0.814,0.113,1.557,0.429,2.181,0.903l-1.521,1.521c-0.204-0.121-0.426-0.215-0.66-0.275V54.99z M79.932,64.261v-2.152\n       c0.23-0.061,0.447-0.146,0.647-0.264l1.519,1.519C81.476,63.833,80.739,64.148,79.932,64.261z M83.023,62.462l-1.531-1.531\n       c0.12-0.202,0.218-0.416,0.278-0.647h2.146C83.802,61.091,83.498,61.839,83.023,62.462z M81.773,58.989\n       c-0.061-0.234-0.152-0.453-0.271-0.656l1.523-1.523c0.472,0.625,0.782,1.367,0.895,2.18H81.773z" style="fill: #4a3069;"/>\n     <path d="M97.216,48.29v-5.526c0-0.889-0.646-1.642-1.524-1.779c-2.107-0.33-5.842-0.953-7.52-1.47\n       c-2.406-0.742-11.702-4.678-14.921-5.417c-3.22-0.739-17.738-4.685-31.643,0.135c-2.353,0.815-12.938,5.875-19.162,8.506\n       c-1.833,0.04-19.976,3.822-20.942,6.414c-0.966,2.593-1.269,3.851-1.447,4.509c-0.178,0.658,0,3.807,1.348,6\n       c1.374,0.777,4.019,1.299,7.077,1.649c-0.035-0.187-0.073-0.371-0.097-0.56c-0.053-0.404-0.078-0.773-0.078-1.125\n       c0-4.945,4.022-8.969,8.968-8.969s8.968,4.023,8.968,8.969c0,0.254-0.017,0.506-0.036,0.754c-0.047,0.555-0.147,1.094-0.292,1.613\n       c0.007,0,0.024,0,0.024,0l44.516-0.896c-0.02-0.115-0.046-0.229-0.061-0.346c-0.053-0.402-0.078-0.772-0.078-1.125\n       c0-4.945,4.022-8.968,8.968-8.968c4.946,0,8.969,4.022,8.969,8.968c0,0.019-0.002,0.035-0.003,0.053l0.19-0.016l7.611-1.433\n       c0,0,2.915-1.552,2.915-5.822C98.967,49.56,97.216,48.29,97.216,48.29z M53.057,43.051L36.432,43.56\n       c0.306-2.491-1.169-3.05-1.169-3.05c6.609-5.999,19.929-6.202,19.929-6.202L53.057,43.051z M71.715,42.29l-15.15,0.509l1.373-8.49\n       c7.83-0.102,12.303,1.626,12.303,1.626l2.237,3.61L71.715,42.29z M80.256,42.238h-4.221l-4.22-5.795\n       c3.166,1.26,5.7,2.502,7.209,3.287C79.94,40.206,80.44,41.223,80.256,42.238z"/>\n   </g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n </svg>',pickup:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="100px" height="42px" viewBox="0 27 100 42" style="enable-background:new 0 27 100 42;"\n    xml:space="preserve">\n    <g>\n    <g>\n      <path d="M99.028,45.872c-0.119-0.118-0.28-0.186-0.447-0.185l-43.616,0.059L54.2,36.729c-0.237-2.797-2.641-4.905-5.444-4.776\n        l-12.437,0.569c-2.064,0.096-3.879,1.397-4.628,3.323l-2.231,5.73L8.753,42.678c-2.545,0.136-4.661,2.01-5.103,4.521L1.748,58.014\n        l-0.963,0.8c-0.523,0.436-0.813,1.09-0.783,1.771c0.031,0.68,0.378,1.307,0.938,1.691l0.581,0.4\n        c0.864,0.595,2.03,0.488,2.771-0.253l0.604-0.604c0.287-0.286,0.452-0.671,0.462-1.074c0.065-2.482,1.645-8.659,8.745-8.659\n        c3.555,0,8.437,2.832,8.437,8.983c0,1.374,1.073,3.056,4.572,3.056h8.675c2.29,0,4.486-0.909,6.106-2.528l27.787,0.223\n        c-0.58-4.692,2.876-9.73,8.278-9.73c8.677,0,8.883,9.523,13.369,9.523c0.378,0,1.514,0,1.514,0\n        c2.733,0.001,4.954-2.211,4.965-4.943l0.038-9.718h0.739c0.349,0,0.63-0.281,0.63-0.63C99.215,46.151,99.147,45.991,99.028,45.872\n        z M48.019,40.835c-0.015,0.803-0.654,1.455-1.456,1.483l-7.399,0.273l-1.637-3.124c-0.261-0.496-0.874-0.689-1.369-0.429\n        c-0.497,0.26-0.688,0.873-0.428,1.369l1.187,2.267l-1.244,0.046c-0.405,0.015-0.792-0.165-1.041-0.483\n        c-0.25-0.318-0.331-0.737-0.219-1.127l1.183-4.108c0.309-1.074,1.273-1.829,2.389-1.871l8.549-0.321\n        c0.416-0.015,0.819,0.143,1.116,0.433c0.297,0.292,0.461,0.691,0.453,1.107L48.019,40.835z"/>\n      <path d="M13.866,54.006c-3.662,0.036-6.601,3.03-6.567,6.692c0.003,0.284,0.029,0.561,0.067,0.833\n        c0.441,3.266,3.248,5.767,6.626,5.734c3.473-0.032,6.29-2.727,6.545-6.127c0.014-0.187,0.025-0.376,0.023-0.566\n        C20.527,56.911,17.529,53.971,13.866,54.006z M13.316,56.529l0.019,1.906c-0.208,0.058-0.403,0.141-0.584,0.252l-1.364-1.34\n        C11.938,56.922,12.594,56.636,13.316,56.529z M10.584,58.168l1.367,1.341c-0.105,0.183-0.185,0.378-0.236,0.585l-1.906,0.02\n        C9.901,59.389,10.171,58.728,10.584,58.168z M9.813,61.26l1.919-0.018c0.056,0.205,0.138,0.396,0.246,0.572l-1.342,1.369\n        C10.213,62.635,9.921,61.979,9.813,61.26z M11.463,63.981l1.335-1.36c0.178,0.101,0.374,0.178,0.578,0.227l0.019,1.913\n        C12.676,64.667,12.019,64.392,11.463,63.981z M18.04,60.036l-1.907,0.019c-0.055-0.208-0.139-0.399-0.246-0.582l1.34-1.365\n        C17.652,58.657,17.934,59.312,18.04,60.036z M14.464,56.518c0.725,0.096,1.386,0.368,1.944,0.783l-1.337,1.364\n        c-0.183-0.107-0.38-0.188-0.59-0.239L14.464,56.518z M14.542,64.748l-0.018-1.911c0.204-0.055,0.397-0.134,0.574-0.24l1.361,1.338\n        C15.911,64.355,15.26,64.645,14.542,64.748z M17.274,63.124l-1.372-1.346c0.103-0.18,0.189-0.371,0.242-0.578l1.904-0.019\n        C17.953,61.901,17.689,62.568,17.274,63.124z" style="fill: #4a3069;"/>\n      <path d="M78.109,54.006c-3.662,0.036-6.602,3.03-6.567,6.692c0.003,0.284,0.029,0.561,0.066,0.833\n        c0.441,3.266,3.248,5.767,6.626,5.734c3.473-0.032,6.29-2.727,6.546-6.127c0.014-0.187,0.025-0.376,0.023-0.566\n        C84.771,56.911,81.772,53.971,78.109,54.006z M77.56,56.529l0.018,1.906c-0.208,0.058-0.402,0.141-0.584,0.252l-1.364-1.34\n        C76.183,56.922,76.837,56.636,77.56,56.529z M74.827,58.168l1.367,1.341c-0.104,0.183-0.185,0.378-0.235,0.585l-1.905,0.02\n        C74.145,59.389,74.414,58.728,74.827,58.168z M74.057,61.26l1.92-0.018c0.056,0.205,0.138,0.396,0.246,0.572l-1.344,1.369\n        C74.456,62.635,74.164,61.979,74.057,61.26z M75.706,63.981l1.335-1.36c0.179,0.101,0.374,0.178,0.578,0.227l0.02,1.913\n        C76.919,64.667,76.264,64.392,75.706,63.981z M82.284,60.036l-1.907,0.019c-0.055-0.208-0.139-0.399-0.245-0.582l1.34-1.365\n        C81.896,58.657,82.178,59.312,82.284,60.036z M78.707,56.518c0.726,0.096,1.387,0.368,1.944,0.783l-1.337,1.364\n        c-0.183-0.107-0.379-0.188-0.589-0.239L78.707,56.518z M78.786,64.748l-0.018-1.911c0.204-0.055,0.396-0.134,0.574-0.24\n        l1.36,1.338C80.155,64.355,79.503,64.645,78.786,64.748z M81.518,63.124l-1.372-1.346c0.103-0.18,0.188-0.371,0.242-0.578\n        l1.903-0.019C82.197,61.901,81.933,62.568,81.518,63.124z" style="fill: #4a3069;"/>\n    </g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  </svg>',coupe:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="100px" height="42px" viewBox="0 26 100 42" style="enable-background:new 0 26 100 42;"\n    xml:space="preserve">\n <g>\n   <g>\n     <path d="M17.001,49.693c-4.12,0-7.46,3.338-7.46,7.459c0,0.319,0.026,0.631,0.066,0.938c0.462,3.677,3.593,6.521,7.394,6.521\n       c3.906,0,7.105-3.002,7.429-6.823c0.019-0.211,0.032-0.422,0.032-0.638C24.463,53.031,21.123,49.693,17.001,49.693z\n        M13.264,54.342l1.522,1.521c-0.119,0.203-0.211,0.423-0.271,0.656H12.37C12.483,55.706,12.794,54.967,13.264,54.342z\n        M12.364,57.812h2.16c0.062,0.229,0.15,0.447,0.27,0.646l-1.524,1.524C12.798,59.361,12.479,58.62,12.364,57.812z M16.356,61.787\n       c-0.809-0.111-1.543-0.429-2.164-0.896l1.517-1.518c0.199,0.116,0.418,0.201,0.647,0.262V61.787z M16.356,54.672\n       c-0.235,0.062-0.455,0.153-0.66,0.274l-1.521-1.521c0.625-0.475,1.366-0.788,2.181-0.901V54.672z M17.647,52.524\n       c0.813,0.113,1.555,0.428,2.18,0.902l-1.52,1.52c-0.205-0.121-0.426-0.214-0.66-0.274V52.524z M17.647,61.786v-2.151\n       c0.229-0.061,0.447-0.146,0.646-0.264l1.519,1.52C19.191,61.357,18.456,61.675,17.647,61.786z M20.738,59.988l-1.53-1.531\n       c0.118-0.199,0.217-0.414,0.278-0.646h2.144C21.516,58.62,21.21,59.367,20.738,59.988z M19.487,56.52\n       c-0.061-0.233-0.152-0.453-0.271-0.656l1.522-1.521c0.471,0.625,0.782,1.364,0.894,2.179L19.487,56.52L19.487,56.52z" style="fill: #4a3069;"/>\n     <path d="M78.611,49.758c-4.103,0-7.428,3.324-7.428,7.428c0,0.317,0.025,0.627,0.064,0.934c0.46,3.66,3.578,6.494,7.363,6.494\n       c3.889,0,7.074-2.989,7.396-6.794c0.019-0.21,0.032-0.42,0.032-0.634C86.04,53.082,82.715,49.758,78.611,49.758z M74.891,54.387\n       l1.516,1.516c-0.118,0.202-0.21,0.421-0.27,0.653h-2.136C74.112,55.744,74.422,55.009,74.891,54.387z M73.994,57.842h2.15\n       c0.062,0.229,0.15,0.444,0.269,0.644l-1.519,1.52C74.427,59.386,74.108,58.646,73.994,57.842z M77.969,61.801\n       c-0.805-0.112-1.535-0.429-2.154-0.896l1.51-1.51c0.198,0.115,0.417,0.201,0.645,0.26V61.801z M77.969,54.715\n       c-0.233,0.061-0.453,0.152-0.656,0.272l-1.514-1.514c0.622-0.471,1.36-0.784,2.17-0.897V54.715z M79.255,52.576\n       c0.812,0.113,1.549,0.428,2.17,0.898l-1.513,1.513c-0.204-0.12-0.423-0.213-0.657-0.272V52.576z M79.255,61.8v-2.145\n       c0.229-0.059,0.446-0.146,0.645-0.262l1.511,1.512C80.792,61.371,80.061,61.687,79.255,61.8z M82.332,60.009l-1.523-1.524\n       c0.117-0.199,0.216-0.412,0.276-0.643h2.134C83.106,58.646,82.802,59.389,82.332,60.009z M81.087,56.555\n       c-0.06-0.232-0.15-0.451-0.27-0.653l1.516-1.516c0.469,0.622,0.778,1.357,0.889,2.169H81.087z" style="fill: #4a3069;"/>\n     <path d="M99.352,52.001c-0.026-0.983-0.331-1.941-0.882-2.759l-0.402-0.6l-1.757-4.635c-0.331-0.875-1.139-1.484-2.07-1.562\n       c-1.728-0.146-4.663-0.368-7.465-0.471c-9.794-5.201-27.904-10.43-43.262-4.731c-3.151,1.169-12.154,5.744-12.154,5.744\n       s-14.62-0.37-25.047,3.349c-4.108,1.465-6.699,5.543-6.266,9.884c0.087,0.869,0.215,1.642,0.341,2.266\n       c0.199,0.987,1.014,1.731,2.015,1.842l6.487,0.711c-0.408-0.852-0.695-1.773-0.818-2.755c-0.052-0.401-0.078-0.772-0.078-1.132\n       c0-4.967,4.041-9.008,9.008-9.008c4.968,0,9.01,4.042,9.01,9.008c0,0.26-0.017,0.514-0.038,0.768\n       c-0.095,1.115-0.399,2.172-0.868,3.135h45.045l0.365-0.021c-0.4-0.842-0.683-1.753-0.804-2.72\n       c-0.052-0.403-0.077-0.773-0.077-1.127c0-4.95,4.026-8.978,8.977-8.978s8.978,4.026,8.978,8.978c0,0.259-0.017,0.511-0.038,0.764\n       c-0.062,0.734-0.223,1.438-0.453,2.11L88.112,60l6.979-0.923c1.214-0.161,2.285-0.876,2.898-1.936l0.695-1.199\n       c0.479-0.83,0.721-1.777,0.695-2.735L99.352,52.001z M74.63,43.068H40.469c0,0,0.203-0.809-0.69-1.786\n       c0,0,8.733-5.633,22.22-4.226c3.711,0.388,8.246,0.651,14.42,3.86L74.63,43.068z"/>\n   </g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n <g>\n </g>\n </svg>',sportcar:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="100px" height="42px" viewBox="0 24 100 42" style="enable-background:new 0 24 100 42;"\n    xml:space="preserve">\n  <g>\n    <g>\n      <path d="M21.569,50.122c-3.994,0.039-7.199,3.305-7.161,7.299c0.003,0.312,0.029,0.611,0.071,0.91\n        c0.482,3.562,3.542,6.289,7.228,6.252c3.787-0.035,6.859-2.973,7.138-6.68c0.015-0.205,0.028-0.41,0.026-0.617\n        C28.833,53.29,25.564,50.084,21.569,50.122z M20.971,52.874l0.019,2.08c-0.228,0.062-0.438,0.152-0.637,0.273l-1.486-1.459\n        C19.468,53.301,20.183,52.989,20.971,52.874z M17.991,54.663l1.488,1.461c-0.111,0.199-0.2,0.412-0.255,0.637l-2.079,0.023\n        C17.245,55.993,17.539,55.272,17.991,54.663z M17.148,58.034l2.095-0.02c0.062,0.223,0.15,0.432,0.268,0.625l-1.465,1.491\n        C17.586,59.534,17.267,58.817,17.148,58.034z M18.949,61.002l1.457-1.485c0.193,0.108,0.407,0.192,0.63,0.248l0.019,2.086\n        C20.272,61.75,19.555,61.448,18.949,61.002z M26.122,56.698l-2.08,0.02c-0.059-0.227-0.15-0.438-0.269-0.635l1.462-1.49\n        C25.698,55.194,26.006,55.909,26.122,56.698z M22.222,52.862c0.791,0.102,1.512,0.4,2.12,0.854l-1.458,1.484\n        c-0.198-0.115-0.413-0.203-0.643-0.262L22.222,52.862z M22.308,61.838l-0.02-2.086c0.223-0.059,0.432-0.145,0.625-0.262\n        l1.483,1.459C23.8,61.409,23.089,61.724,22.308,61.838z M25.285,60.065l-1.495-1.467c0.11-0.195,0.205-0.404,0.263-0.632\n        l2.076-0.02C26.027,58.733,25.739,59.461,25.285,60.065z" style="fill: #4a3069;"/>\n      <path d="M79.957,50.122c-3.994,0.039-7.199,3.305-7.161,7.299c0.003,0.312,0.029,0.611,0.071,0.91\n        c0.481,3.562,3.542,6.289,7.228,6.252c3.786-0.035,6.859-2.973,7.138-6.68c0.016-0.205,0.028-0.41,0.026-0.617\n        C87.221,53.29,83.952,50.084,79.957,50.122z M79.357,52.874l0.02,2.08c-0.229,0.062-0.438,0.152-0.637,0.273l-1.486-1.459\n        C77.854,53.301,78.568,52.989,79.357,52.874z M76.379,54.663l1.488,1.461c-0.112,0.199-0.2,0.412-0.256,0.637l-2.078,0.023\n        C75.633,55.993,75.927,55.272,76.379,54.663z M75.536,58.034l2.095-0.02c0.062,0.223,0.149,0.432,0.268,0.625l-1.465,1.491\n        C75.974,59.534,75.653,58.817,75.536,58.034z M77.337,61.002l1.457-1.485c0.192,0.108,0.407,0.192,0.629,0.248l0.02,2.086\n        C78.66,61.75,77.941,61.448,77.337,61.002z M84.51,56.698l-2.08,0.02c-0.059-0.227-0.15-0.438-0.269-0.635l1.462-1.49\n        C84.086,55.194,84.394,55.909,84.51,56.698z M80.608,52.862c0.79,0.102,1.513,0.4,2.12,0.854l-1.458,1.484\n        c-0.197-0.115-0.413-0.203-0.643-0.262L80.608,52.862z M80.694,61.838l-0.02-2.086c0.223-0.059,0.432-0.145,0.625-0.262\n        l1.483,1.459C82.188,61.409,81.477,61.724,80.694,61.838z M83.673,60.065l-1.495-1.467c0.11-0.195,0.205-0.404,0.263-0.632\n        l2.076-0.02C84.415,58.733,84.127,59.461,83.673,60.065z" style="fill: #4a3069;"/>\n      <path d="M99.122,42.375c-0.117-0.146-0.295-0.233-0.483-0.233h-6.388c-0.253,0-0.48,0.156-0.572,0.393l-0.407,1.045\n        c0,0-18.024-6.571-22.044-7.969c-3.117-1.084-11.719-1.004-16.776-0.849c-2.492,0.077-4.985,0.59-7.301,1.516\n        c-4.257,1.701-11.383,4.628-15.049,6.584c-8.715,0.184-16.877,2.165-18.686,3.039c-1.808,0.875-5.714,4.374-5.714,4.374\n        l-4.724,2.489c-0.644,0.34-1.025,1.028-0.972,1.756l0.283,3.816c0.063,0.854,0.708,1.547,1.553,1.676l11.253,1.697l0.926-0.038\n        c-0.539-0.945-0.912-2.003-1.065-3.135c-0.054-0.383-0.082-0.745-0.086-1.1c-0.046-4.835,3.85-8.807,8.686-8.854\n        c4.876,0,8.809,3.897,8.854,8.688c0.002,0.251-0.012,0.498-0.029,0.746c-0.081,1.067-0.362,2.081-0.796,3.01l42.45-0.088\n        c-0.339-0.749-0.577-1.555-0.691-2.401c-0.054-0.383-0.083-0.745-0.086-1.1c-0.046-4.835,3.85-8.807,8.686-8.854\n        c4.875,0,8.81,3.897,8.854,8.688c0.002,0.251-0.012,0.498-0.03,0.746c-0.042,0.563-0.139,1.114-0.285,1.646l0.395-0.031\n        l7.636-2.291c0.698-0.209,1.205-0.812,1.293-1.534l0.682-5.691c0.086-0.717-0.062-1.44-0.422-2.066l-1.281-2.23l1.979-1.503\n        c0.114-0.087,0.194-0.21,0.229-0.35l0.25-1.064C99.28,42.715,99.237,42.522,99.122,42.375z M64.787,43.424l-19.354,0.569\n        c0,0-0.003-2.387-2.864-2.684l4.563-2.703c1.649-0.978,3.512-1.476,5.429-1.461c3.491,0.027,9.276,0.092,12.691,0.238\n        c0.606,0.025,1.158,0.363,1.458,0.892c0.3,0.529,0.306,1.176,0.015,1.71C65.77,41.743,64.787,43.424,64.787,43.424z"/>\n    </g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  </svg>',hypercar:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="100px" height="42px" viewBox="0 23 100 42" style="enable-background:new 0 23 100 42;"\n    xml:space="preserve">\n  <g>\n    <g>\n      <path d="M31.174,55.464c-0.041-4.354-3.604-7.85-7.958-7.809c-4.353,0.043-7.848,3.604-7.807,7.957\n        c0.003,0.337,0.034,0.664,0.079,0.99c0.525,3.882,3.861,6.855,7.877,6.816c4.128-0.038,7.477-3.241,7.781-7.282\n        C31.163,55.915,31.176,55.69,31.174,55.464z M22.562,50.656l0.021,2.267c-0.248,0.066-0.479,0.167-0.694,0.299l-1.621-1.59\n        C20.924,51.123,21.704,50.782,22.562,50.656z M19.314,52.606l1.624,1.592c-0.124,0.219-0.219,0.449-0.28,0.695l-2.265,0.023\n        C18.501,54.056,18.822,53.271,19.314,52.606z M18.397,56.28l2.282-0.021c0.067,0.244,0.164,0.473,0.292,0.683l-1.596,1.626\n        C18.872,57.916,18.526,57.134,18.397,56.28z M20.359,59.516l1.588-1.619c0.211,0.12,0.444,0.21,0.686,0.271l0.022,2.273\n        C21.801,60.332,21.019,60.003,20.359,59.516z M28.177,54.823l-2.267,0.022c-0.064-0.247-0.165-0.477-0.292-0.691l1.592-1.624\n        C27.716,53.186,28.051,53.964,28.177,54.823z M23.926,50.643c0.862,0.112,1.648,0.438,2.312,0.932l-1.589,1.62\n        c-0.217-0.126-0.451-0.223-0.7-0.284L23.926,50.643z M24.019,60.428l-0.021-2.273c0.243-0.063,0.472-0.158,0.682-0.284\n        l1.618,1.591C25.647,59.96,24.872,60.303,24.019,60.428z M27.266,58.496l-1.631-1.601c0.121-0.214,0.224-0.439,0.287-0.688\n        l2.264-0.021C28.075,57.044,27.759,57.836,27.266,58.496z" style="fill: #4a3069;" />\n      <path d="M84.348,47.333c-4.354,0.043-7.848,3.603-7.807,7.956c0.003,0.338,0.033,0.665,0.078,0.99\n        c0.525,3.882,3.861,6.854,7.877,6.816c4.129-0.038,7.478-3.242,7.781-7.283c0.018-0.223,0.03-0.446,0.028-0.674\n        C92.265,50.785,88.701,47.293,84.348,47.333z M83.693,50.332l0.021,2.267c-0.249,0.067-0.479,0.168-0.693,0.298l-1.621-1.59\n        C82.055,50.798,82.836,50.459,83.693,50.332z M80.445,52.281l1.625,1.594c-0.123,0.218-0.22,0.447-0.279,0.694l-2.266,0.023\n        C79.634,53.731,79.955,52.945,80.445,52.281z M79.529,55.956l2.283-0.021c0.065,0.244,0.163,0.473,0.291,0.684l-1.596,1.626\n        C80.005,57.591,79.656,56.81,79.529,55.956z M81.49,59.19l1.588-1.618c0.211,0.121,0.445,0.21,0.688,0.271l0.021,2.272\n        C82.933,60.006,82.152,59.679,81.49,59.19z M89.31,54.5l-2.267,0.021c-0.064-0.247-0.165-0.476-0.292-0.689l1.593-1.624\n        C88.848,52.861,89.183,53.64,89.31,54.5z M85.058,50.318c0.862,0.111,1.647,0.438,2.312,0.932l-1.588,1.621\n        c-0.217-0.127-0.451-0.224-0.701-0.286L85.058,50.318z M85.15,60.103l-0.021-2.271c0.243-0.064,0.472-0.159,0.683-0.286\n        l1.617,1.591C86.779,59.636,86.004,59.979,85.15,60.103z M88.398,58.17l-1.632-1.601c0.122-0.213,0.226-0.438,0.287-0.686\n        l2.265-0.022C89.207,56.719,88.892,57.512,88.398,58.17z" style="fill: #4a3069;"/>\n      <path d="M99.229,51.241c-0.091-0.193-0.259-0.342-0.463-0.405l-0.816-0.259l0.574-2.693c0.109-0.513-0.148-1.034-0.625-1.257\n        l-1.051-0.493l0.575-3.284c0.104-0.602-0.287-1.176-0.886-1.299c-6.532-1.347-38.256-9.82-58.813-3.12\n        c-6.015,1.959-15.298,5.51-15.298,5.51S8.512,46.298,0,54.643l0.762,1.776l-0.581,2.324c-0.045,0.178-0.007,0.365,0.102,0.515\n        c0.109,0.146,0.279,0.237,0.462,0.248l14.324,0.724l0.649-0.007c-0.644-1.037-1.088-2.212-1.26-3.479\n        c-0.057-0.41-0.085-0.769-0.088-1.12c-0.046-4.916,3.917-8.956,8.835-9.004c4.958,0,8.96,3.964,9.007,8.835\n        c0.002,0.257-0.012,0.51-0.031,0.763c-0.105,1.392-0.539,2.694-1.216,3.835l44.465-0.498l1.166-0.076\n        c-0.508-0.93-0.855-1.96-1.005-3.06c-0.058-0.41-0.085-0.769-0.088-1.12c-0.046-4.916,3.917-8.956,8.835-9.004\n        c4.958,0,8.961,3.965,9.007,8.836c0.002,0.257-0.011,0.51-0.03,0.763c-0.066,0.885-0.269,1.732-0.578,2.526l0.717-0.047\n        c0.852-0.057,1.617-0.534,2.039-1.274l2.033-1.015l1.719-4.228C99.324,51.657,99.318,51.435,99.229,51.241z M28.259,44.349\n        c-0.182-0.06-0.308-0.225-0.318-0.416c-0.01-0.188,0.098-0.368,0.271-0.446c0.92-0.419,2.458-1.072,4.591-1.843v3.862\n        C31.302,45.297,29.421,44.731,28.259,44.349z M40.88,42.98c-0.257-0.532-0.815-0.851-1.403-0.801\n        c-1.646,0.138-4.814,0.561-5.201,1.799c-0.189,0.605,1.947,1.601,1.947,1.601s-1.195,0.065-2.45,0.013v-4.291\n        c2.1-0.729,4.692-1.539,7.771-2.341c4.423-1.15,10.543-1.388,16.2-1.062l1.738,5.358c-9.862,1.476-18.68,1.829-18.68,1.829\n        l0.209-1.104C41.076,43.644,41.03,43.292,40.88,42.98z M62.466,42.778l-1.503-4.63c5.115,0.504,9.439,1.45,11.126,2.542\n        C69.033,41.533,65.734,42.22,62.466,42.778z"/>\n    </g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  <g>\n  </g>\n  </svg>'},carNames:[{name:"BMW",model:[{modelName:"M4",type:"coupe"},{modelName:"4",type:"coupe"},{modelName:"8",type:"coupe"},{modelName:"M2",type:"coupe"},{modelName:"2",type:"coupe"},{modelName:"i8",type:"hypercar"},{modelName:"Z4",type:"sportcar"},{modelName:"M5",type:"sedan"},{modelName:"5",type:"sedan"},{modelName:"M8",type:"sedan"}]},{name:"Porsche",model:[{modelName:"718 Cayman",type:"sportcar"},{modelName:"718 Cayman S",type:"sportcar"},{modelName:"718 Boxter",type:"sportcar"},{modelName:"718 Spyder",type:"sportcar"},{modelName:"911 Carrera",type:"sportcar"},{modelName:"911 Targa",type:"sportcar"},{modelName:"Taycan",type:"coupe"},{modelName:"Taycan Turbo",type:"coupe"},{modelName:"Panamera",type:"coupe"},{modelName:"Panamera Turbo",type:"coupe"}]},{name:"GMC",model:[{modelName:"Canyon",type:"pickup"},{modelName:"Sierra",type:"pickup"},{modelName:"Sonoma",type:"pickup"},{modelName:"Syclone",type:"pickup"},{modelName:"Sprint",type:"pickup"},{modelName:"Caballero",type:"pickup"}]},{name:"Audi",model:[{modelName:"A3",type:"sedan"},{modelName:"A4",type:"sedan"},{modelName:"RS6",type:"coupe"},{modelName:"S6",type:"sedan"},{modelName:"A6 Avant",type:"coupe"},{modelName:"A6",type:"sedan"},{modelName:"TT",type:"sportcar"},{modelName:"TTS",type:"sportcar"},{modelName:"RS5",type:"hypercar"},{modelName:"S5",type:"sedan"}]},{name:"Tesla",model:[{modelName:"Model S",type:"sedan"},{modelName:"Model 3",type:"coupe"},{modelName:"Model X",type:"coupe"},{modelName:"Roadster",type:"hypercar"},{modelName:"Roadster 2",type:"hypercar"},{modelName:"Cybertruck",type:"pickup"},{modelName:"Model Y",type:"coupe"}]},{name:"Volkswagen",model:[{modelName:"Passat",type:"sedan"},{modelName:"Jetta",type:"sedan"},{modelName:"Polo",type:"coupe"},{modelName:"Amarok",type:"pickup"},{modelName:"Arteon",type:"coupe"},{modelName:"Clasico",type:"sedan"},{modelName:"C-Trek",type:"coupe"},{modelName:"Lamando",type:"sedan"},{modelName:"Lavida",type:"sedan"},{modelName:"Sagitar",type:"sedan"},{modelName:"Taro",type:"pickup"},{modelName:"XL Sport",type:"hypercar"},{modelName:"Tristar",type:"pickup"},{modelName:"Midsize",type:"sedan"}]},{name:"Toyota",model:[{modelName:"Camry",type:"sedan"},{modelName:"Hilux",type:"pickup"},{modelName:"Supra",type:"sportcar"},{modelName:"Corolla",type:"coupe"},{modelName:"SFX",type:"coupe"},{modelName:"Aurion",type:"sedan"},{modelName:"Avalon",type:"sedan"},{modelName:"Carina",type:"sedan"},{modelName:"Crown",type:"sedan"},{modelName:"Cynos",type:"sedan"}]},{name:"Renault",model:[{modelName:"Arcana",type:"sedan"},{modelName:"11",type:"coupe"},{modelName:"RS",type:"hypercar"},{modelName:"14",type:"coupe"},{modelName:"SFX",type:"coupe"},{modelName:"Satis",type:"coupe"},{modelName:"Spider",type:"hypercar"},{modelName:"Latitude",type:"sedan"},{modelName:"Laguna",type:"sedan"},{modelName:"Fluence",type:"sedan"}]},{name:"Ford",model:[{modelName:"Bantam",type:"pickup"},{modelName:"Falcon",type:"sedan"},{modelName:"Cougar",type:"sedan"},{modelName:"Crown Victoria",type:"sedan"},{modelName:"GT",type:"hypercar"},{modelName:"Fusion",type:"sedan"},{modelName:"Mustang",type:"sportcar"},{modelName:"Taurus",type:"sedan"},{modelName:"Atlas",type:"pickup"},{modelName:"Evos",type:"coupe"}]}],animationClass:{on:"animation-on"},offClasses:{trackBtnOffClass:"track-btn-disable",garageOffClass:"disable",popupCloseClass:"popup_close"},fractionDigits:2,activePageSetting:{page:1,limit:7},activeWinnerSetting:{page:1,limit:10,sort:{wins:"wins",time:"time"},order:{asc:"ASC",desc:"DESC"},activeSort:{sort:"wins",order:"DESC"}},numberOfCreatedCars:100}},492:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0,n(226);var s=n(790),c=n(399),l=n(565),u=n(561),p=function(e){function t(t){var n,r,i=e.call(this,"div",["track"])||this;i.car=t,i.createSettingContainer(),i.createTrackWithButtons();var a=i.element.querySelector(".car");if(!a)throw Error("Car element does not exist!");return i.carElement=a,null===(n=i.startButton)||void 0===n||n.addEventListener("click",(function(){i.carStart()})),null===(r=i.stopButton)||void 0===r||r.addEventListener("click",(function(){i.carStop()})),i}return i(t,e),t.prototype.createSettingContainer=function(){var e=document.createElement("div");e.classList.add("setting-container"),this.element.appendChild(e),this.selectButton=document.createElement("button"),this.selectButton.classList.add("control-btn","select-btn"),this.selectButton.innerHTML="select",e.appendChild(this.selectButton),this.removeButton=document.createElement("button"),this.removeButton.classList.add("control-btn","remove-btn"),this.removeButton.innerHTML="remove",e.appendChild(this.removeButton);var t=document.createElement("p");t.classList.add("car-type"),t.innerHTML=this.car.name,e.appendChild(t)},t.prototype.createTrackWithButtons=function(){var e=document.createElement("div");e.classList.add("track-container"),this.element.appendChild(e);var t=document.createElement("div");t.classList.add("track-btns-container"),e.appendChild(t),this.startButton=document.createElement("button"),this.startButton.classList.add("track-btn","start-btn"),this.startButton.innerHTML="S",t.appendChild(this.startButton),this.stopButton=document.createElement("button"),this.stopButton.classList.add("track-btn","stop-btn",u.setting.offClasses.trackBtnOffClass),this.stopButton.innerHTML="B",t.appendChild(this.stopButton);var n=document.createElement("div");n.classList.add("car"),this.car.svg?n.innerHTML=this.car.svg:console.log("Have not svg!");var r=n.querySelector("svg");r&&(r.style.fill=this.car.color),e.appendChild(n);var i=document.createElement("img");i.src="./finish.svg",i.classList.add("finish-flag"),e.appendChild(i)},t.prototype.deleteCar=function(){return c.API.deleteWinner(this.car.id),c.API.deleteCar(this.car.id)},t.prototype.getCar=function(){return this.car},t.prototype.setCar=function(e){this.car=e},t.prototype.getCarElement=function(){return this.carElement},t.prototype.carStart=function(){return a(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.toggleTrackBtns(),[4,c.API.toggleCarsEngine([{key:"id",value:String(this.car.id)},{key:"status",value:l.APISettings.status.start}])];case 1:return e=t.sent(),this.carAnimationOn(e),[4,c.API.switchToDriveMode([{key:"id",value:String(this.car.id)},{key:"status",value:l.APISettings.status.drive}])];case 2:return t.sent()||(this.carElement.style.animationPlayState="paused"),[2]}}))}))},t.prototype.carStop=function(){return a(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,new Promise((function(t){return a(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return null===(e=this.stopButton)||void 0===e||e.classList.add(u.setting.offClasses.trackBtnOffClass),[4,c.API.switchToDriveMode([{key:"id",value:String(this.car.id)},{key:"status",value:l.APISettings.status.stop}])];case 1:return r.sent(),this.carAnimationOff(),null===(n=this.startButton)||void 0===n||n.classList.remove(u.setting.offClasses.trackBtnOffClass),t(),[2]}}))}))}))]}))}))},t.prototype.carAnimationOn=function(e){this.carElement.style.animationDuration=e.distance/1e3/e.velocity+"s",this.carElement.classList.add(u.setting.animationClass.on),this.carElement.style.animationPlayState="running"},t.prototype.carAnimationOff=function(){this.carElement.classList.remove(u.setting.animationClass.on)},t.prototype.toggleTrackBtns=function(){var e,t;null===(e=this.startButton)||void 0===e||e.classList.toggle(u.setting.offClasses.trackBtnOffClass),null===(t=this.stopButton)||void 0===t||t.classList.toggle(u.setting.offClasses.trackBtnOffClass)},t.prototype.carRaceStart=function(){var e=this;return new Promise((function(t){e.carStart(),e.carElement.addEventListener("animationend",(function(){t(e)}))}))},t}(s.BaseComponents);t.Track=p},573:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Winners=void 0,n(462);var s=n(518),c=n(399),l=n(944),u=n(198),p=n(767),d=n(561),g=n(768),h=function(e){function t(){var t=e.call(this,["winners"],"winners__container")||this;return t.scores=[],t.createWinnerCounterAndPageCounter(),t.createScoresTemplate(),t.scoresContainer=document.createElement("div"),t.contantsField.element.appendChild(t.scoresContainer),t.sortDataWinner("wins",d.setting.activeWinnerSetting.order.desc),t.createPageSwitchBtns(),t}return i(t,e),t.prototype.createWinnerCounterAndPageCounter=function(){var e=document.createElement("h2");e.classList.add("garage-counter"),e.innerHTML="\n      Winners (<span></span>)\n    ",this.contantsField.element.appendChild(e),this.winnersCounter=e.querySelector("span");var t=document.createElement("h3");t.classList.add("page-counter"),t.innerHTML="\n      Page #<span></span>\n    ",this.contantsField.element.appendChild(t),this.pageCounter=t.querySelector("span")},t.prototype.createPageSwitchBtns=function(){var e=this,t=document.createElement("div");t.classList.add("switch-page__container"),this.contantsField.element.appendChild(t),this.prevPage=s.createSwitchBtns("prev"),t.appendChild(this.prevPage),this.prevPage.addEventListener("click",(function(){d.setting.activeWinnerSetting.page>1&&(d.setting.activeWinnerSetting.page--,e.getWinners([{key:"_page",value:String(d.setting.activeWinnerSetting.page)},{key:"_limit",value:String(d.setting.activeWinnerSetting.limit)},{key:"_sort",value:String(d.setting.activeWinnerSetting.activeSort.sort)},{key:"_order",value:String(d.setting.activeWinnerSetting.activeSort.order)}]))})),this.nextPage=s.createSwitchBtns("next"),t.appendChild(this.nextPage),this.nextPage.addEventListener("click",(function(){d.setting.activeWinnerSetting.page++,e.getWinners([{key:"_page",value:String(d.setting.activeWinnerSetting.page)},{key:"_limit",value:String(d.setting.activeWinnerSetting.limit)},{key:"_sort",value:String(d.setting.activeWinnerSetting.activeSort.sort)},{key:"_order",value:String(d.setting.activeWinnerSetting.activeSort.order)}])}))},t.prototype.pageButtonsValidation=function(){var e,t,n,r,i;d.setting.activeWinnerSetting.page<=1?null===(e=this.prevPage)||void 0===e||e.classList.add("disable"):null===(t=this.prevPage)||void 0===t||t.classList.remove("disable");var a=null===(n=this.winnersCounter)||void 0===n?void 0:n.innerHTML;d.setting.activeWinnerSetting.page>=Math.ceil(Number(a)/d.setting.activeWinnerSetting.limit)?null===(r=this.nextPage)||void 0===r||r.classList.add("disable"):null===(i=this.nextPage)||void 0===i||i.classList.remove("disable")},t.prototype.createScoresTemplate=function(){this.scoresTemplate=g.createDivElement(["score","score-template"]),this.contantsField.element.appendChild(this.scoresTemplate);var e=g.createDivElement(["place-container"]);e.innerHTML="#",this.scoresTemplate.appendChild(e);var t=g.createDivElement(["car-container"]);t.innerHTML="Car",this.scoresTemplate.appendChild(t);var n=g.createDivElement(["name-container"]);n.innerHTML="Name",this.scoresTemplate.appendChild(n),this.createWinsElement(),this.createTimeElement()},t.prototype.getWinners=function(e){var t;return a(this,void 0,void 0,(function(){var n,r,i,a,s,u=this;return o(this,(function(o){switch(o.label){case 0:return this.scoresContainer.innerHTML="",this.scores.length=0,[4,c.API.getAllWinner(e)];case 1:n=o.sent(),this.winnersCounter&&(this.winnersCounter.innerHTML=String(n.totalCount)),this.pageButtonsValidation(),e.forEach((function(e){"_page"===e.key&&u.pageCounter&&(u.pageCounter.innerHTML=e.value)})),r=0,o.label=2;case 2:return r<n.winners.length?[4,c.API.getCar(n.winners[r].id)]:[3,7];case 3:return(i=o.sent()).name?(a=new l.Car(i),s=new p.Score((Number(null===(t=this.pageCounter)||void 0===t?void 0:t.innerHTML)-1)*d.setting.activeWinnerSetting.limit+r+1,a,n.winners[r]),this.scores.push(s),this.scoresContainer.appendChild(s.element),[3,6]):[3,4];case 4:return[4,c.API.deleteWinner(n.winners[r].id)];case 5:return o.sent(),this.getWinners(e),[2];case 6:return r++,[3,2];case 7:return[2]}}))}))},t.prototype.sortDataWinner=function(e,t){var n=[{key:"_page",value:String(d.setting.activeWinnerSetting.page)},{key:"_limit",value:String(d.setting.activeWinnerSetting.limit)}];switch(e){case d.setting.activeWinnerSetting.sort.wins:d.setting.activeWinnerSetting.activeSort.sort=d.setting.activeWinnerSetting.sort.wins,n.push({key:"_sort",value:String(d.setting.activeWinnerSetting.activeSort.sort)});break;case d.setting.activeWinnerSetting.sort.time:d.setting.activeWinnerSetting.activeSort.sort=d.setting.activeWinnerSetting.sort.time,n.push({key:"_sort",value:String(d.setting.activeWinnerSetting.activeSort.sort)});break;default:console.log("Something wrong!")}switch(t){case d.setting.activeWinnerSetting.order.asc:d.setting.activeWinnerSetting.activeSort.order=d.setting.activeWinnerSetting.order.asc,n.push({key:"_order",value:String(d.setting.activeWinnerSetting.activeSort.order)});break;case d.setting.activeWinnerSetting.order.desc:d.setting.activeWinnerSetting.activeSort.order=d.setting.activeWinnerSetting.order.desc,n.push({key:"_order",value:String(d.setting.activeWinnerSetting.activeSort.order)});break;default:console.log("Something wrong!")}this.getWinners(n)},t.prototype.createWinsElement=function(){var e=this;if(this.winsElement=g.createDivElement(["wins-container","wins-template"]),this.winsElement.innerHTML="Wins",!this.scoresTemplate)throw Error("Error!");this.scoresTemplate.appendChild(this.winsElement),this.winsElement.addEventListener("click",(function(){var t,n;if(!e.winsElement)throw Error("Error!");e.winsElement.classList.contains("active-field")?e.winsElement.classList.contains("ASC-sort")?(e.winsElement.classList.remove("ASC-sort"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.wins,d.setting.activeWinnerSetting.order.desc)):(e.winsElement.classList.add("ASC-sort"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.wins,d.setting.activeWinnerSetting.order.asc)):(null===(t=e.winsElement)||void 0===t||t.classList.add("active-field"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.wins,d.setting.activeWinnerSetting.order.desc),null===(n=e.timeElement)||void 0===n||n.classList.remove("active-field","ASC-sort"))}))},t.prototype.createTimeElement=function(){var e=this;if(this.timeElement=g.createDivElement(["best-time-container","best-time-template"]),this.timeElement.innerHTML="Best time (seconds)",!this.scoresTemplate)throw Error("Error!");this.scoresTemplate.appendChild(this.timeElement),this.timeElement.addEventListener("click",(function(){var t,n;if(!e.timeElement)throw Error("Error!");e.timeElement.classList.contains("active-field")?e.timeElement.classList.contains("ASC-sort")?(e.timeElement.classList.remove("ASC-sort"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.time,d.setting.activeWinnerSetting.order.desc)):(e.timeElement.classList.add("ASC-sort"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.time,d.setting.activeWinnerSetting.order.asc)):(null===(t=e.timeElement)||void 0===t||t.classList.add("active-field","ASC-sort"),e.sortDataWinner(d.setting.activeWinnerSetting.sort.time,d.setting.activeWinnerSetting.order.asc),null===(n=e.winsElement)||void 0===n||n.classList.remove("active-field","ASC-sort"))}))},t}(u.Field);t.Winners=h}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(762),new(n(1).App)(document.body)})();